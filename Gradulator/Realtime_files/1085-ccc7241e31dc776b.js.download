"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1085],{99325:function(e,r,o){o.d(r,{Q:function(){return a}});let a=e=>{let{func:r,isLoggedIn:o,showModal:a}=e;o?r():a()}},71085:function(e,r,o){o.d(r,{Z:function(){return eL}});var a=o(85893),t=o(45689),l=o(34651),n=o(67294),i=o(43742),s=o(35541),c=o(83589),d=o(14581),x=o(66205),m=o(34292),h=o(49289),g=o(1679),u=o(55281),p=o(36948),y=o(71293),j=o(27239),f=o(81136),b=o(93108),w=o(93717),k=o(61121),v=o(71818),C=o(18318),_=o(55451),S=o(72076),z=o(59820);let D=e=>new Promise(r=>setTimeout(r,e)),I=e=>{let{plan:r,streakCount:o,rewardClaimed:t,onClose:l}=e,[i,s]=(0,n.useState)("init"),c="none"!==r,[d,x]=(0,n.useState)(!1),[h,I]=(0,n.useState)(t),[W,J]=(0,n.useState)(null),O=c?null:200+100*Math.min(o-1,3),R=W||2,{reward:A}=(0,S.w5)("rewardId","confetti",{elementCount:100,elementSize:8}),N=async e=>{x(!0);let r=await fetch("/api/rewards/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageCredits:O,videoCredits:e})});403===r.status&&I(!0),await (0,z.JG)("/api/accountDetails"),s("close"),await D(100),A(),x(!1)},q=async()=>{s("roll");let e=Math.floor(11*Math.random())+5;J(e),await N(e)},L=async()=>{await N(R)};return h?(0,a.jsxs)(u.K,{spacing:1,position:"relative",align:"center",children:[(0,a.jsx)(p.J,{as:v.wk9,h:"40px",w:"40px",color:"green.400"}),(0,a.jsx)(y.x,{fontSize:"md",align:"center",children:"You have already claimed your reward today."})]}):(0,a.jsxs)(u.K,{spacing:4,position:"relative",width:"240px",children:[(0,a.jsxs)(m.U,{spacing:2,display:"close"===i?"flex":"none",children:[(0,a.jsx)(p.J,{as:k.A0_,h:"40px",w:"40px"}),(0,a.jsxs)(u.K,{spacing:2,children:[(0,a.jsxs)(y.x,{fontWeight:600,fontSize:"md",children:["You got ",O?"".concat(O," realtime images"):"",R?"".concat(O?" and ":"").concat(R," credits"):"",". Enjoy! \uD83C\uDF89",(0,a.jsx)("span",{id:"rewardId"})]}),(0,a.jsxs)(y.x,{fontWeight:600,fontSize:"md",children:["Keep coming back for a special reward on day ",(Math.floor(o/5)+1)*5,"!"]})]})]}),(0,a.jsx)(j.M,{display:"roll"===i?"flex":"none",h:"60px",w:"100%",children:(0,a.jsx)(f.$,{})}),(0,a.jsxs)(m.U,{spacing:2,display:"init"===i?"flex":"none",children:[(0,a.jsx)(p.J,{as:k.A0_,h:"40px",w:"40px"}),(0,a.jsx)(u.K,{spacing:0,children:(0,a.jsx)(y.x,{fontWeight:600,fontSize:"md",children:c?1===o?"Claim your first reward of ".concat(2," free credits."):o%5==0?"Woohoo! It's day ".concat(o,". Roll to claim your credits."):"Day ".concat(o," and going strong! Claim today's reward for ").concat(2," free credits."):1===o?"Claim your first reward of 200 realtime images and ".concat(2," quality image credits."):o%5==0?"Woohoo! It's day ".concat(o,". Roll to claim your 500 images plus ").concat(2," quality image credits."):"Day ".concat(o," and going strong! Claim today's reward of ").concat(200+100*Math.min(o-1,3)," realtime images and ").concat(2," quality image credits.")})})]}),(0,a.jsx)(b.z,{onClick:"init"===i?o%5==0?q:L:"reward"===i?L:l,isDisabled:d,variant:"unstyled",h:"40px",w:"100%",border:"1px",borderRadius:"0.5rem",borderColor:"gray.300",bg:"gray.100",_hover:{borderColor:"gray.400",bg:"gray.200"},_dark:{bg:"gray.800",borderColor:"gray.700",_hover:{borderColor:"gray.600"}},children:(0,a.jsxs)(w.k,{justify:"center",align:"center",gap:1,children:["init"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:o%5==0?"Roll":"Claim"}),(0,a.jsx)(p.J,{as:o%5==0?_.CE8:C.mBF,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"roll"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Roll"}),(0,a.jsx)(p.J,{as:_.CE8,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"reward"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Claim"}),(0,a.jsx)(p.J,{as:C.mBF,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"close"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Close"}),(0,a.jsx)(p.J,{as:g.T,h:"10px",w:"10px",mb:"2px",color:"black",_dark:{color:"white"}})]})]})})]})};var W=o(57747),J=o(22757),O=o(52091);let R=e=>{let{startDay:r,streakCount:o,index:t}=e,l=r+t,n=l<=o;return l%5==0?(0,a.jsxs)(u.K,{align:"center",userSelect:"none",h:"62px",justify:"space-between",children:[n?(0,a.jsx)(p.J,{as:O.RPl,h:"30px",w:"30px",color:"green.400",mt:"4px"}):(0,a.jsx)(p.J,{mt:"4px",as:O.RPl,h:"30px",w:"30px",color:"gray.300",_dark:{color:"gray.500"}}),(0,a.jsxs)(y.x,{mt:n?-1:0,fontSize:"xs",color:"gray.500",whiteSpace:"nowrap",_dark:{color:"gray.400"},children:["Day ",l]})]}):(0,a.jsxs)(u.K,{align:"center",userSelect:"none",h:"62px",justify:"space-between",children:[n?(0,a.jsx)(p.J,{as:v.wk9,h:"40px",w:"40px",color:"green.400"}):(0,a.jsx)(W.Cd,{mt:"4px",bg:"transparent",color:"white",border:"4px solid",borderColor:"gray.300",_dark:{borderColor:"gray.500"},size:8}),(0,a.jsxs)(y.x,{mt:n?-1:0,fontSize:"xs",color:"gray.500",whiteSpace:"nowrap",_dark:{color:"gray.400"},children:["Day ",l]})]})},A=e=>{let{startDay:r,streakCount:o}=e;return(0,a.jsxs)(u.K,{spacing:8,children:[(0,a.jsxs)(m.U,{userSelect:"none",children:[(0,a.jsx)(p.J,{as:O.ZBn,w:"70px",h:"70px",color:"red.400",_dark:{color:"red.500"}}),(0,a.jsxs)(u.K,{spacing:0,children:[(0,a.jsx)(J.X,{fontSize:"45px",fontWeight:"400",color:"black",_dark:{color:"white"},lineHeight:.9,children:o}),(0,a.jsx)(J.X,{size:"xs",color:"gray.500",_dark:{color:"gray.400"},children:"day streak"})]})]}),(0,a.jsx)(m.U,{spacing:5,pl:2,children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(R,{startDay:r,streakCount:o,index:t},t))})]})},N=e=>{let{isOpen:r,onClose:o,streakCount:t=1,rewardClaimed:l=!1,isMobile:n=!1,plan:i="none"}=e;return(0,a.jsxs)(s.u_,{isOpen:r,onClose:o,isCentered:!0,children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(20px)"}),(0,a.jsxs)(d.h,{w:"max-content",maxW:"40rem",bg:"transparent",_dark:{bg:"transparent"},children:[(0,a.jsx)(x.o,{border:0,cursor:"pointer",size:"lg",mt:"-0.25rem",mr:"-0.5rem",_focus:{boxShadow:"none"}}),(0,a.jsxs)(m.U,{flexDir:n?"column":"row",spacing:10,p:10,h:n?"100%":"260px",bg:"white",borderRadius:"0.5rem",_dark:{bg:"black"},children:[(0,a.jsx)(A,{startDay:t>2?t-2:1,streakCount:t}),(0,a.jsx)(h.i,{h:n?"100%":"260px",orientation:n?"horizontal":"vertical"}),(0,a.jsx)(I,{plan:i,streakCount:t,rewardClaimed:l,onClose:o})]})]})]})};var q=o(32883),L=o(65028),M=o(82730),Z=o(31955),F=o(86013),E=o(28823),P=o(74560),T=o(7963),K=o(45161),U=o(66712),B=o(91170),X=o(4040),H=o(74970),Y=o(87874),G=o(11163),Q=o(78633),V=o(86204),$=o(19042),ee=o(30080),er=o(30304),eo=o(93754),ea=o(99325),et=o(57748),el=o(33082),en=o(75081);let ei=e=>{let{initialDirection:r,thresholdPixels:o,off:a}=e,[t,l]=(0,n.useState)(r);return(0,n.useEffect)(()=>{let e=o||0,t=window.pageYOffset,n=!1,i=()=>{let r=window.pageYOffset;if(Math.abs(r-t)<e){n=!1;return}l(r>t?"down":"up"),t=r>0?r:0,n=!1},s=()=>{n||(window.requestAnimationFrame(i),n=!0)};return a?l(r):window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[r,o,a]),t};var es=o(55083),ec=o(85335),ed=o(64859),ex=o(54346),em=o(57219),eh=o(73459),eg=o(45966),eu=o(4758);let ep="".concat(eu.IQ,"-whatsNew"),ey="".concat(eu.IQ,"-whatsNew-version"),ej=[{title:"AI Character Generator",description:"Design your own AI characters",videoSrc:"".concat(eu.hb,"/public/whatsNew/CreateCharacter.mp4"),href:"/characters/create"},{title:"Characters",description:"Create photorealistic images of popular characters.",videoSrc:"".concat(eu.hb,"/public/whatsNew/characters.mp4"),href:"/characters/public"},{title:"Quality Images",description:"Generate stunning, high-fidelity images - now available for everyone to try for free!",videoSrc:"".concat(eu.hb,"/public/whatsNew/qualityStack.mp4"),href:"/quality-image"},{title:"Templates",description:"Use templates to generate with hand-crafted designs guaranteed to impress.",videoSrc:"".concat(eu.hb,"/public/whatsNew/templates.mp4"),href:"/templates"}],ef=e=>{let{title:r,description:o,videoSrc:l,href:n}=e,i=(0,t.Z)();return(0,a.jsxs)(w.k,{justifyContent:"center",flexDir:"column",children:[(0,a.jsx)(W.xu,{draggable:"false",borderRadius:"1rem",objectFit:"contain",overflow:"hidden",w:"100%",minH:i?"11rem":"22rem",position:"relative",children:(0,a.jsx)("video",{src:l,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),(0,a.jsx)(q.r,{href:n,children:(0,a.jsxs)(w.k,{justifyContent:"center",flexDir:"row",alignItems:"center",children:[(0,a.jsx)(y.x,{textAlign:"center",fontSize:"xl",color:"primary.600",_dark:{color:"primary.300"},my:"0.5rem",fontWeight:"bold",children:r}),(0,a.jsx)(p.J,{as:v.vwU,color:"primary.500",w:"1.25rem",h:"1.25rem",mb:"0.25rem",ml:"0.25rem"})]})}),(0,a.jsx)(y.x,{textAlign:"center",fontSize:"md",color:"gray.700",_dark:{color:"gray.200"},mx:i?"1rem":"4rem",children:o})]})},eb=e=>{let{featureIndex:r,setFeatureIndex:o,featureLength:t}=e;return 1===t?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(w.k,{justifyContent:"center",align:"center",mt:"1rem",children:[(0,a.jsx)(em.w,{w:"1.5rem",h:"1.5rem",borderRadius:"0.25rem",_hover:{bg:"gray.300"},_dark:{_hover:{bg:"gray.600"}},mx:"0.25rem",cursor:"pointer",onClick:function(){o(Math.max(0,r-1))}}),Array(t).fill(0).map((e,t)=>(0,a.jsx)(W.xu,{borderRadius:"full",bg:r===t?"blackAlpha.900":"gray.400",_dark:{bg:r===t?"whiteAlpha.900":"gray.500"},w:"1rem",h:"0.5rem",p:"0.25rem",mx:"0.5rem",onClick:()=>o(t),cursor:"pointer"},t)),(0,a.jsx)(eh.X,{w:"1.5rem",h:"1.5rem",borderRadius:"0.25rem",_hover:{bg:"gray.300"},_dark:{_hover:{bg:"gray.600"}},mx:"0.25rem",cursor:"pointer",onClick:function(){o(Math.min(t-1,r+1))}})]})},ew=e=>{let{isOpen:r,onClose:o}=e,[l,i]=(0,n.useState)(0),m=(0,t.Z)(),[h,g]=(0,n.useState)(!1),u=()=>{g(!h),localStorage.setItem(ep,"".concat(!h))};if((0,n.useEffect)(()=>{g("true"===localStorage.getItem(ep))},[]),!r)return(0,a.jsx)(a.Fragment,{});let p=ej[l];return(0,a.jsxs)(s.u_,{isOpen:r,onClose:o,isCentered:!0,size:"xl",children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(d.h,{border:"1px",borderColor:"gray.100",bg:"gray.100",_dark:{borderColor:"gray.700",bg:"gray.800"},maxW:m?"95vw":"40rem",children:[(0,a.jsx)(ed.x,{borderTopRadius:"md",fontSize:"xl",bg:"gray.100",_dark:{bg:"gray.800"},children:(0,a.jsx)(y.x,{fontSize:"xl",fontWeight:"bold",color:"blackAlpha.900",_dark:{color:"whiteAlpha.900"},textAlign:"center",children:"What's New"})}),(0,a.jsx)(x.o,{size:"lg"}),(0,a.jsxs)(ex.f,{bg:"gray.100",_dark:{bg:"gray.800"},children:[(0,a.jsx)(ef,{title:p.title,description:p.description,videoSrc:p.videoSrc,href:p.href},l),(0,a.jsx)(eb,{featureIndex:l,setFeatureIndex:i,featureLength:ej.length}),(0,a.jsx)(w.k,{justifyContent:"center",flexDir:"column",children:(0,a.jsx)(eg.X,{alignSelf:"center",mt:"1rem",isChecked:h,onChange:u,color:"gray.500",_dark:{color:"gray.400"},opacity:"0.9",size:"sm",children:"Don't show this again"})})]})]})]})},ek=e=>{let{setShowNotification:r,onWhatsNewClose:o,whatsNewOpen:t}=e;return(0,n.useEffect)(()=>{let e=localStorage.getItem(ey);"7"!==e&&(r(!0),localStorage.setItem(ey,"7"))},[r]),(0,a.jsx)(ew,{isOpen:t,onClose:o})},ev=e=>{let{user:r,accountDetails:o}=e,{isOpen:t,onOpen:l,onClose:i}=(0,M.q)(),{isOpen:s,onOpen:d,onClose:m}=(0,M.q)(),[h,g]=(0,n.useState)(!1),u=()=>{g(!1),d(),localStorage.setItem(ey,"7")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.z,{"aria-label":"Menu button",variant:"unstyled",px:"0.5rem",pr:"1rem",ml:"0.25rem",h:"2.5rem",display:"flex",alignItems:"center",borderRadius:"0.5rem",onClick:l,_hover:{backgroundColor:"gray.200"},_dark:{_hover:{backgroundColor:"gray.700"}},__css:{"&:hover #menu-icon":{color:"gray.200"}},children:[(0,a.jsx)(p.J,{as:C.pLT,height:"1.75rem",width:"1.75rem",color:"gray.600",_dark:{color:"gray.400"},mr:"0.5rem",id:"menu-icon"}),(0,a.jsx)(p.J,{as:F.D,w:"136px",minW:"136px",h:"32px",minH:"32px",color:"gray.800",_dark:{color:"gray.100"}})]}),(0,a.jsxs)(es.d,{isOpen:t,placement:"left",onClose:i,children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(ec.s,{m:0,bg:"white",borderBottom:"0",borderTop:"0",_dark:{bg:"black"},maxW:"min-content",children:[(0,a.jsx)(x.o,{size:"lg"}),(0,a.jsx)(ed.x,{pb:"0",children:(0,a.jsx)(q.r,{href:"/home",children:(0,a.jsx)(p.J,{as:F.D,w:"136px",minW:"136px",h:"32px",minH:"32px",color:"gray.800",_dark:{color:"gray.100"},onClick:i})})}),(0,a.jsx)(ex.f,{p:"0.5rem",pt:"1rem",children:(0,a.jsx)(eO,{user:r,accountDetails:o,isMobile:!0,collapsed:!1,onNavClick:i,handleWhatsNewOpen:u,showNotification:h})})]})]}),(0,a.jsx)(ek,{onWhatsNewClose:m,whatsNewOpen:s,setShowNotification:g})]})};var eC=o(42576);let e_=e=>{let{accountDetails:r}=e,o=(null==r?void 0:r.planType)==="none";return o?(0,a.jsx)(q.r,{href:"/pricing",children:(0,a.jsxs)(b.z,{flexDir:"row",mx:"0rem",my:"0.25rem",w:"100%",border:"0px",borderRadius:"0.5rem",h:"2.25rem",variant:"solid",onClick:()=>{l.ZP.capture("Upgrade clicked",{referrer:"Site nav"})},children:[(0,a.jsx)(p.J,{as:V.CvY,w:"1rem",h:"1rem"}),(0,a.jsx)(y.x,{color:"white",fontSize:"md",ml:"0.5rem",children:"Upgrade"})]})}):(0,a.jsx)(a.Fragment,{})},eS=e=>{let{accountDetails:r,children:o,hideable:t,user:l}=e,{isOpen:n,onOpen:i,onClose:s}=(0,M.q)(),{pathname:c}=(0,G.useRouter)(),d=ei({initialDirection:"up",thresholdPixels:10,off:!t}),x="up"===d||c.startsWith("/quality-image")||"/home"===c;return(0,a.jsxs)(w.k,{id:"scrollableDiv",height:"auto",width:"100vw",maxW:"100vw",flexDirection:"column",children:[(0,a.jsxs)(w.k,{top:"0",position:"sticky",flexDir:"row",w:"100%",h:"3rem",minH:"3rem",bg:"white",borderBottom:"1px",borderColor:"gray.200",_dark:{bg:"gray.900",borderColor:"gray.700"},align:"center",zIndex:"2",transform:x?"translateY(0)":"translateY(-100%)",transition:"transform 0.2s ease-in-out",children:[(0,a.jsx)(ev,{accountDetails:r,user:l}),(0,a.jsx)(L.L,{}),"/pricing"!==c&&(0,a.jsx)(e_,{accountDetails:r}),(0,a.jsx)(eC.l,{onAccountOpen:i})]}),o,(0,a.jsx)(et.Z,{isOpen:n,onClose:s})]})};var ez=o(16757);let eD=e=>fetch(e,{headers:{"Content-Type":"application/json","x-timezone":Intl.DateTimeFormat().resolvedOptions().timeZone}}).then(e=>e.json()),eI=e=>{let{collapsed:r,isMobile:o,accountDetails:t,user:l}=e,{data:n}=(0,z.ZP)(l?"/api/accountDetails":null,eD),s=(null==n?void 0:n.streakCount)||(null==t?void 0:t.streakCount),c=(null==n?void 0:n.rewardClaimed)||(null==t?void 0:t.rewardClaimed)||!1,{showModal:d}=(0,i.d)(eo.z),{showModal:x}=(0,i.d)(N,{streakCount:s,rewardClaimed:c,plan:(null==t?void 0:t.planType)||"none",isMobile:o}),m=()=>{(0,ea.Q)({func:x,isLoggedIn:!!(null==t?void 0:t.customerId),showModal:d})};return(0,a.jsxs)(w.k,{cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:r?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},onClick:m,gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.ZBn,h:"1.25rem",w:"1.25rem",color:"red.500"}),!r&&(0,a.jsxs)(y.x,{fontSize:"md",children:[s&&s,s?" Day Streak":"Streaks"]})]})},eW=e=>{let{href:r,icon:o,label:t,isActive:l,collapsed:n,onNavClick:i}=e;(0,G.useRouter)();let s=window.location.pathname,c="/explore"===s||s.includes("/station/");return(0,a.jsxs)(w.k,{as:q.r,href:r,onClick:e=>{i&&i(),s===r&&e.preventDefault(),"/explore"===r&&c&&(window.location.href="/explore",e.preventDefault())},p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:n?"center":"",color:"gray.800",bgColor:l?"gray.200":"transparent",_hover:{bgColor:"gray.300"},_dark:{bgColor:l?"gray.700":"transparent",color:"gray.200",_hover:{bgColor:"gray.600"}},children:[(0,a.jsx)(p.J,{as:o,h:"1.75rem",w:"1.75rem"}),!n&&(0,a.jsx)(y.x,{fontSize:"lg",ml:"0.75rem",children:t})]})},eJ=e=>{let{isMobile:r,collapsed:o,handleWhatsNewOpen:t,showNotification:s,accountDetails:c,user:d,onNavClick:x}=e,m=(0,er.m)(),[g,j]=(0,n.useState)(!1),f=d&&"string"==typeof d.email,b=(0,T.p)(),k=(0,G.useRouter)(),v=window.location.pathname,{data:S}=(0,z.ZP)(d?"/api/project/listProjects":null),{isOpen:D,onOpen:I,onClose:J}=(0,M.q)(),{isOpen:R,onOpen:A,onClose:N}=(0,M.q)(),{handleTourBegin:Z,setHasClaimedReward:F}=(0,en.r)(),{showModal:E}=(0,i.d)(el.D,{handleTourBegin:Z}),{showModal:ei}=(0,i.d)(eo.z),es=(0,P.Wq)();async function ec(){try{l.ZP.reset()}catch(e){}await es.auth.signOut(),await k.push("/")}async function ed(){await k.push({pathname:"/api/auth/login",query:{returnTo:m}})}(0,n.useEffect)(()=>{S&&S.length>0&&j(!0)},[S]);let ex=o?"55px":"240px",{colorMode:em,toggleColorMode:eh}=(0,K.If)();(0,n.useEffect)(()=>{localStorage&&localStorage.setItem("chakra-ui-color-mode",em)},[em]);let eg="/templates"===v||v.includes("/templates/");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.K,{justify:"space-between",h:"100%",w:ex,maxW:ex,p:"8px",children:[(0,a.jsxs)(u.K,{gap:"0.25rem",children:[(0,a.jsx)(eW,{href:"/home",icon:$.g3P,label:"Home",isActive:"/home"===v,collapsed:o,onNavClick:x}),(0,a.jsx)(eW,{href:"/library",icon:_.Yj_,label:"Library",isActive:"/library"===v,collapsed:o,onNavClick:x}),(0,a.jsx)(h.i,{}),(0,a.jsx)(eW,{href:"/quality-image",icon:V.Jh6,label:"Generate Image",isActive:v.startsWith("/quality-image"),collapsed:o,onNavClick:x}),(0,a.jsx)(eW,{href:"/characters/public",icon:ee.ddA,label:"AI Characters",isActive:v.startsWith("/characters"),collapsed:o,onNavClick:x}),(0,a.jsx)(eW,{href:"/realtime",icon:O.LkT,label:"Realtime AI",isActive:v.startsWith("/realtime"),collapsed:o,onNavClick:x}),(0,a.jsx)(eW,{href:"/templates",icon:$.ebg,label:"Templates",isActive:eg,collapsed:o,onNavClick:x}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.i,{}),(0,a.jsx)(eW,{href:"/projects",icon:C.Xwg,label:"Projects",isActive:"/projects"===v,collapsed:o,onNavClick:x})]})]}),(0,a.jsxs)(u.K,{gap:"0.25rem",children:[(0,a.jsx)(eI,{user:d,accountDetails:c,collapsed:o,isMobile:r}),(0,a.jsxs)(w.k,{as:q.r,href:"/affiliate",cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.l80,h:"1.25rem",w:"1.25rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"Affiliate"})]}),(0,a.jsxs)(w.k,{cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},onClick:t,gap:"0.75rem",children:[(0,a.jsxs)(w.k,{pos:"relative",children:[(0,a.jsx)(p.J,{as:O.iih,h:"1.25rem",w:"1.25rem"}),s&&(0,a.jsx)(W.Cd,{pos:"absolute",top:"-0.25rem",right:"-0.15rem",size:".65rem",bg:"red.500"})]}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"What's New"})]}),(0,a.jsxs)(U.v,{autoSelect:!1,placement:"auto",children:[(0,a.jsx)(B.j,{h:"100%",borderRadius:"0.5rem",_hover:{bgColor:"gray.300"},_active:{bgColor:"gray.200"},_dark:{_hover:{bgColor:"gray.700"},_active:{bgColor:"gray.800"}},userSelect:"none",children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.nGB,h:"1.25rem",w:"1.25rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"Learn"})]})}),(0,a.jsxs)(X.q,{mx:"0rem",mb:"0.5rem",bg:"gray.100",borderColor:"gray.400",_dark:{bg:"gray.800",borderColor:"gray.600"},zIndex:5,children:[(0,a.jsxs)(H.s,{as:q.r,href:"https://decohere.notion.site/Decohere-Guide-d07589634dce4e20878819a2fbfba8c1",target:"_blank",fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:()=>{l.ZP.capture("Opened Guide"),x&&x()},children:[(0,a.jsx)(p.J,{as:O.uYZ}),(0,a.jsx)(y.x,{fontSize:"md",my:"6px",ml:"0.5rem",children:"Guide"})]}),(0,a.jsxs)(H.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:async()=>{"/create"!==v&&await k.push("/create"),(0,ea.Q)({func:()=>{E(),F(!0)},isLoggedIn:!!(null==c?void 0:c.customerId),showModal:ei}),b.closeAll(),x&&x()},children:[(0,a.jsx)(p.J,{as:O.FcZ,w:"1rem",h:"1rem"}),(0,a.jsx)(y.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Realtime Tutorial"})]})]})]}),!o&&(0,a.jsx)(e_,{accountDetails:c}),!r&&(0,a.jsxs)(U.v,{autoSelect:!1,placement:"right-start",children:[(0,a.jsx)(B.j,{h:"100%",borderRadius:"0.5rem",onClick:f?void 0:ed,_hover:{bgColor:"gray.300"},_active:{bgColor:"gray.200"},_dark:{_hover:{bgColor:"gray.700"},_active:{bgColor:"gray.800"}},userSelect:"none",children:(0,a.jsxs)(w.k,{flexDir:"row",align:"center",cursor:"pointer",children:[(0,a.jsx)(Y.q,{src:null==d?void 0:d.user_metadata.picture,name:null==d?void 0:d.user_metadata.name,w:o?"1.5rem":"2rem",minW:o?"1.5rem":"2rem",h:o?"1.5rem":"2rem",bg:"gray.800",m:"0.5rem",border:"1px",color:"gray.200",_dark:{color:"gray.600",bg:"gray.500"}}),f&&!o&&(0,a.jsx)(w.k,{flexDir:"column",align:"start",children:(null==d?void 0:d.user_metadata.name)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,userSelect:"none",maxW:"calc(".concat(ex," - 3rem)"),children:d.user_metadata.name}),(0,a.jsx)(y.x,{fontSize:"xs",color:"gray.600",_dark:{color:"gray.400"},noOfLines:1,userSelect:"none",maxW:"calc(".concat(ex," - 3rem)"),children:d.email})]}):(0,a.jsx)(y.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,userSelect:"none",maxW:"calc(".concat(ex," - 3rem)"),children:null==d?void 0:d.email})}),!f&&!o&&(0,a.jsx)(y.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,userSelect:"none",children:"Log in"}),!o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.L,{}),(0,a.jsx)(p.J,{as:f?Q.evw:O.IPB,height:"18px",width:"18px",color:"gray.800",_dark:{color:"gray.200"},display:"flex",alignItems:"center",mr:"0.5rem"})]})]})}),f&&(0,a.jsxs)(X.q,{mx:"0rem",mb:"0.5rem",bg:"gray.100",borderColor:"gray.400",_dark:{bg:"gray.800",borderColor:"gray.600"},zIndex:5,children:[(0,a.jsxs)(H.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:A,children:[(0,a.jsx)(O.m3W,{}),(0,a.jsx)(y.x,{fontStyle:"default",ml:"0.5rem",my:"4px",children:"Account Details"})]}),(0,a.jsxs)(H.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:eh,children:["dark"===em?(0,a.jsx)(p.J,{as:ee.EWX}):(0,a.jsx)(p.J,{as:ee.Dq}),(0,a.jsxs)(y.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:["light"===em?"Dark":"Light"," Mode"]})]}),(0,a.jsxs)(H.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:I,children:[(0,a.jsx)(p.J,{as:O.iq7}),(0,a.jsx)(y.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Report Issue"})]}),(0,a.jsxs)(H.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200",_hover:{bg:"red.600"}},onClick:ec,_hover:{bg:"red.600",color:"gray.200"},children:[(0,a.jsx)(O.fHX,{}),(0,a.jsx)(y.x,{ml:"0.5rem",my:"4px",children:"Log out"})]})]})]})]})]}),(0,a.jsx)(et.Z,{isOpen:R,onClose:N}),(0,a.jsx)(ez.Z,{isOpen:D,onClose:J})]})};var eO=eJ,eR=o(34155);let eA=()=>(eR.env.NEXT_PUBLIC_DEV_QUEUE,(0,a.jsx)(a.Fragment,{children:!1})),eN=e=>{let{children:r,accountDetails:o,user:t}=e,{isSidebarCollapsed:l,setIsSidebarCollapsed:i}=(0,E.y)(),{isOpen:s,onOpen:c,onClose:d}=(0,M.q)(),[x,m]=(0,n.useState)(!1),h=e=>{i(e),Z.Z.set("navCollapsed",e?"true":"false")},g=()=>{m(!1),c(),localStorage.setItem(ey,"7")};return(0,n.useEffect)(()=>{let e=()=>{window.innerWidth<800&&i(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(w.k,{width:"100vw",maxW:"100vw",h:"100vh",maxH:"100vh",flexDirection:"row",children:[(0,a.jsxs)(u.K,{gap:"0rem",overflowY:"auto",overflowX:"hidden",minW:l?"55px":"240px",transition:"width 0.3s ease-in-out",children:[!l&&(0,a.jsx)(eA,{}),(0,a.jsxs)(w.k,{flexDir:"row",alignItems:"center",m:"8px",children:[!l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.r,{"aria-label":"Decohere logo button",href:"/",display:"flex",alignItems:"center",children:(0,a.jsx)(p.J,{as:F.D,w:"170px",minW:"170px",h:"40px",minH:"40px",ml:"8px",color:"gray.800",_dark:{color:"gray.100"}})}),(0,a.jsx)(L.L,{})]}),(0,a.jsx)(b.z,{"aria-label":"Menu Button",mt:"4px",cursor:"pointer",variant:"ghost",w:"40px",h:"40px",p:"0px",color:"gray.800",_dark:{color:"gray.400"},onClick:()=>h(!l),children:l?(0,a.jsx)(p.J,{as:_.gvo,h:"24px",w:"24px"}):(0,a.jsx)(p.J,{as:_.fMf,h:"24px",w:"24px"})})]}),(0,a.jsx)(eO,{user:t,isMobile:!1,collapsed:l,handleWhatsNewOpen:g,showNotification:x,accountDetails:o})]}),(0,a.jsx)(ek,{whatsNewOpen:s,onWhatsNewClose:d,setShowNotification:m}),r]})},eq=e=>{let{accountDetails:r,children:o,isMobile:s,hideable:c,user:d}=e,x=(0,t.Z)();s=s||x;let m=(0,n.useRef)(!1),{streakCount:h,rewardClaimed:g}=r||{},{showModal:u}=(0,i.d)(N);return((0,n.useEffect)(()=>{r&&!m.current&&(l.ZP.identify(r.customerId,{email:r.email,customer_id:r.customerId,plan_type:r.planType,billed_monthly:r.billedMonthly}),"none"!==r.planType&&l.ZP.startSessionRecording(),m.current=!0)},[r]),(0,n.useEffect)(()=>{h&&h>0&&!g&&(null==r?void 0:r.customerId)&&u({streakCount:h,isMobile:s,plan:(null==r?void 0:r.planType)||"none"})},[h,g,null==r?void 0:r.customerId]),s)?(0,a.jsx)(eS,{accountDetails:r,hideable:c,user:d,children:o}):(0,a.jsx)(eN,{accountDetails:r,user:d,children:o})};var eL=eq},16757:function(e,r,o){var a=o(85893),t=o(11310),l=o(35541),n=o(83589),i=o(14581),s=o(66205),c=o(54346),d=o(71293),x=o(57169),m=o(93717),h=o(93108),g=o(34651),u=o(67294);let p=e=>{let{isOpen:r,onClose:o}=e,[p,y]=(0,u.useState)(""),{user:j}=(0,t.a)();return(0,a.jsxs)(l.u_,{isOpen:r,onClose:o,isCentered:!0,size:"md",children:[(0,a.jsx)(n.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(i.h,{border:"1px",borderColor:"gray.200",borderRadius:"0.5rem",overflow:"hidden",_dark:{borderColor:"gray.700"},children:[(0,a.jsx)(s.o,{size:"lg"}),(0,a.jsxs)(c.f,{bg:"white",_dark:{bg:"gray.800"},py:"1rem",children:[(0,a.jsx)(d.x,{fontSize:"16px",mb:"1rem",textColor:"gray.700",_dark:{textColor:"gray.200"},children:"Report an issue"}),(0,a.jsx)(x.g,{bg:"gray.100",borderColor:"transparent",borderRadius:"8px",color:"gray.700",_dark:{color:"gray.200",borderColor:"gray.600",bg:"gray.900"},fontSize:"16px",h:"10rem",p:"1rem",placeholder:"What's the issue?",resize:"none",w:"100%",onChange:e=>y(e.target.value)}),(0,a.jsxs)(m.k,{align:"center",justify:"flex-end",mt:"1rem",gap:"1rem",children:[(0,a.jsx)(h.z,{variant:"unstyled",fontSize:"15px",onClick:o,children:"Cancel"}),(0,a.jsx)(h.z,{variant:"solid",fontSize:"15px",onClick:function(){""!==p&&(g.ZP.capture("Report issue"),fetch("/api/feedback",{cache:"no-store",method:"POST",body:JSON.stringify({page:"Report issue",message:p,email:null==j?void 0:j.email})}),y("")),o()},size:"lg",children:"Submit"})]})]})]})]})};r.Z=p},42576:function(e,r,o){o.d(r,{l:function(){return z}});var a=o(85893),t=o(11310),l=o(30304),n=o(6147),i=o(45161),s=o(66712),c=o(91170),d=o(93717),x=o(87874),m=o(1702),h=o(4040),g=o(71293),u=o(49289),p=o(74970),y=o(36948),j=o(93108),f=o(11163),b=o(34651),w=o(67294),k=o(52091),v=o(30080),C=o(43742),_=o(16757),S=o(74560);let z=e=>{var r,o,z,D,I;let{onAccountOpen:W}=e,{user:J}=(0,t.a)(),O=(0,f.useRouter)(),[R,A]=(0,w.useState)(!1),N=(0,l.m)(),{showModal:q}=(0,C.d)(_.Z),{colorMode:L,toggleColorMode:M}=(0,i.If)(),Z=(0,S.Wq)(),F=J&&"string"==typeof J.email;async function E(){try{b.ZP.reset()}catch(e){}await Z.auth.signOut(),await O.push("/")}async function P(){await O.push({pathname:"/api/auth/login",query:{returnTo:N}})}return(0,a.jsxs)(s.v,{autoSelect:!1,children:[(0,a.jsx)(c.j,{h:"100%",onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:(0,a.jsxs)(d.k,{cursor:"pointer",flexDir:"row",align:"center",justify:"center",px:"0.25rem",h:"2.5rem",m:"0.25rem",borderRadius:"0.5rem",bg:R?"gray.200":"white",_dark:{bg:R?"gray.700":"gray.900"},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[(0,a.jsx)(x.q,{src:null==J?void 0:null===(r=J.user_metadata)||void 0===r?void 0:r.picture,name:null==J?void 0:null===(o=J.user_metadata)||void 0===o?void 0:o.name,w:"2rem",minW:"2rem",h:"2rem",m:"0.25rem",border:"1px",bg:"gray.800",color:"gray.300",_dark:{color:"gray.600",bg:"gray.500"}}),(0,a.jsx)(n.v,{mt:"0.25rem",boxSize:"1.25rem",color:R?"gray.200":"gray.400"})]})}),(0,a.jsx)(m.h,{children:(0,a.jsxs)(h.q,{mx:"1rem",mt:"0rem",bg:"white",borderColor:"gray.200",_dark:{bg:"gray.800",borderColor:"gray.700"},zIndex:5,children:[F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.k,{flexDir:"row",align:"center",children:[(0,a.jsx)(x.q,{src:null==J?void 0:null===(z=J.user_metadata)||void 0===z?void 0:z.picture,name:null==J?void 0:null===(D=J.user_metadata)||void 0===D?void 0:D.name,w:"3rem",minW:"3rem",h:"3rem",m:"0.5rem",border:"1px",color:"gray.300",_dark:{color:"gray.600"}}),(0,a.jsxs)(d.k,{flexDir:"column",children:[(0,a.jsx)(g.x,{fontSize:"md",color:"gray.900",_dark:{color:"gray.200"},noOfLines:1,children:"".concat(null==J?void 0:null===(I=J.user_metadata)||void 0===I?void 0:I.name)}),(0,a.jsx)(g.x,{fontSize:"sm",color:"gray.700",_dark:{color:"gray.400"},noOfLines:1,children:"".concat(null==J?void 0:J.email)})]})]}),(0,a.jsx)(u.i,{mb:"0.25rem"}),(0,a.jsxs)(p.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:W,children:[(0,a.jsx)(k.m3W,{}),(0,a.jsx)(g.x,{fontStyle:"default",ml:"0.5rem",my:"4px",children:"Account Details"})]}),(0,a.jsxs)(p.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:M,children:["dark"===L?(0,a.jsx)(y.J,{as:v.EWX}):(0,a.jsx)(y.J,{as:v.Dq}),(0,a.jsxs)(g.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:["light"===L?"Dark":"Light"," Mode"]})]}),(0,a.jsxs)(p.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:q,children:[(0,a.jsx)(y.J,{as:k.iq7}),(0,a.jsx)(g.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Report Issue"})]})]}),(0,a.jsxs)(j.z,{flexDir:"row",mx:"0.5rem",my:"0.25rem",w:"calc(100% - 1rem)",border:"1px",bg:"gray.200",borderColor:"gray.300",_hover:{bg:"gray.300"},_dark:{bg:"black",borderColor:"gray.600",_hover:{bg:"gray.800"}},borderRadius:"0.5rem",h:"2rem",colorScheme:"gray",onClick:F?E:P,children:[F?(0,a.jsx)(y.J,{as:k.fHX,color:"gray.600",_dark:{color:"gray.200"}}):(0,a.jsx)(y.J,{as:k.IPB,color:"gray.600",_dark:{color:"gray.200"}}),(0,a.jsx)(g.x,{ml:"0.5rem",color:"gray.600",_dark:{color:"gray.200"},children:F?"Log out":"Log in"})]})]})})]})}}}]);